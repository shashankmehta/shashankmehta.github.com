<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>
    IIT Roorkee, Placements, Twitter and Automation
  </title>
  <meta name="description" content="Personal website & blog">
  <!-- Set theme immediately to prevent flash -->
  <script>
    // Immediately set the theme before any content renders
    (function() {
      const storedTheme = localStorage.getItem('theme');
      const prefersDarkScheme = window.matchMedia('(prefers-color-scheme: dark)');
      
      if (storedTheme === 'dark') {
        document.documentElement.dataset.theme = 'dark';
      } else if (storedTheme === 'light') {
        document.documentElement.dataset.theme = 'light';
      } else {
        // System preference
        document.documentElement.dataset.theme = prefersDarkScheme.matches ? 'dark' : 'light';
      }
    })();
  </script>
  <link rel="stylesheet" href="/css/main.css">
  <link href="https://fonts.googleapis.com/css2?family=Lato:wght@300;400;700&family=Sometype+Mono:wght@400;500;600;700&display=swap" rel="stylesheet">
  
  <!-- Favicon -->
  <link rel="icon" href="/images/dp.jpeg" type="image/jpeg">
  <link rel="apple-touch-icon" href="/images/dp.jpeg">
  
  
    <meta property="og:image" content="https://shashankmehta.in/images/dp.jpeg" />
    <meta name="twitter:card" content="summary_large_image" />
    <meta name="twitter:image" content="https://shashankmehta.in/images/dp.jpeg" />
  

  
    <meta property="og:title" content="IIT Roorkee, Placements, Twitter and Automation" />
    <meta name="twitter:title" content="IIT Roorkee, Placements, Twitter and Automation">
  

  

  <meta property="og:type" content="article" />
  <meta name="twitter:site" content="@shashankmehta05">
  <meta name="twitter:creator" content="@shashankmehta05">
  <meta name="twitter:url" content="https://shashankmehta.in/archive/2014/iit-roorkee-placements-twitter.html">
</head>
<body>
  <div class="container">
    <header class="grid">
  <figure class="profile-image">
    <img src="/images/dp.jpeg" alt="Shashank Mehta">
  </figure>
  <div>
    <h1>
      Shashank Mehta
      <button id="theme-toggle" aria-label="Toggle dark/light mode" onclick="toggleTheme()">
  <svg class="light-icon" xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><circle cx="12" cy="12" r="5"></circle><line x1="12" y1="1" x2="12" y2="3"></line><line x1="12" y1="21" x2="12" y2="23"></line><line x1="4.22" y1="4.22" x2="5.64" y2="5.64"></line><line x1="18.36" y1="18.36" x2="19.78" y2="19.78"></line><line x1="1" y1="12" x2="3" y2="12"></line><line x1="21" y1="12" x2="23" y2="12"></line><line x1="4.22" y1="19.78" x2="5.64" y2="18.36"></line><line x1="18.36" y1="5.64" x2="19.78" y2="4.22"></line></svg>
  <svg class="dark-icon" xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M21 12.79A9 9 0 1 1 11.21 3 7 7 0 0 0 21 12.79z"></path></svg>
  <svg class="system-icon" xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><rect x="2" y="3" width="20" height="14" rx="2" ry="2"></rect><line x1="8" y1="21" x2="16" y2="21"></line><line x1="12" y1="17" x2="12" y2="21"></line></svg>
</button>

<script>
  // Helper function to update the button icon based on current theme
  function updateThemeIcon(theme) {
    const themeToggle = document.getElementById('theme-toggle');
    themeToggle.setAttribute('data-mode', theme);
  }

  // Initialize theme on page load
  document.addEventListener('DOMContentLoaded', function() {
    const html = document.documentElement;
    const savedTheme = localStorage.getItem('theme');
    
    if (savedTheme) {
      // If user has a saved preference, use it
      if (savedTheme !== 'system') {
        html.dataset.theme = savedTheme;
        updateThemeIcon(savedTheme);
      } else {
        // Using system preference
        updateThemeIcon('system');
        const prefersDark = window.matchMedia('(prefers-color-scheme: dark)').matches;
        html.dataset.theme = prefersDark ? 'dark' : 'light';
      }
    } else {
      // Default to system
      // localStorage.setItem('theme', 'system');
      updateThemeIcon('system');
      const prefersDark = window.matchMedia('(prefers-color-scheme: dark)').matches;
      html.dataset.theme = prefersDark ? 'dark' : 'light';
    }
  });

  // Toggle theme when button is clicked - alternate between system and opposite manual mode
  function toggleTheme() {
    const html = document.documentElement;

    // Determine current state. We persist it in localStorage (default = "system")
    const current = localStorage.getItem('theme') || 'system';
    const systemPrefersDark = window.matchMedia('(prefers-color-scheme: dark)').matches;
    
    let next;
    
    if (current === 'system') {
      // If in system mode, switch to manual opposite
      next = systemPrefersDark ? 'light' : 'dark';
    } else {
      // If in any manual mode, switch back to system
      next = 'system';
    }

    // Update button icon
    updateThemeIcon(next);

    // Apply the next state
    if (next === 'system') {
      // Follow OS preference â€“ remove manual override
      delete html.dataset.theme;
      // Apply current system preference
      const prefersDark = window.matchMedia('(prefers-color-scheme: dark)').matches;
      html.dataset.theme = prefersDark ? 'dark' : 'light';
    } else {
      html.dataset.theme = next;
    }

    // Persist the choice for future visits
    localStorage.setItem('theme', next);
  }
  
  // Listen for system preference changes
  window.matchMedia('(prefers-color-scheme: dark)').addEventListener('change', event => {
    if (!localStorage.getItem('theme') || localStorage.getItem('theme') === 'system') {
      document.documentElement.dataset.theme = event.matches ? 'dark' : 'light';
    }
  });
</script> 
    </h1>
    <nav>
      <ul>
        <li><a href="/">Home</a></li>
        
        
        <li><a href="https://x.com/shashankmehta05" target="_blank">X/Twitter</a></li>
        <li><a href="https://www.linkedin.com/in/mehta-shashank/" target="_blank">LinkedIn</a></li>
      </ul>
    </nav>
  </div>
  
</header>
<hr />


    <main>
      
<article>
  <nav>
    <a id="back-button" href="/blog" class="secondary">&larr; Back</a>
  </nav>

  

  <header>
    <h1>IIT Roorkee, Placements, Twitter and Automation</h1>
    <time datetime="2014-12-15">December 15, 2014</time>
  </header>

  <div>
    <p>December. A very bitter sweet time in IITs, at least for final year students. It's the placement season, you see. For the last 3 years my involvement included finding out which senior got placed where so that I could extract that grand treat out of him / her. I awaited my own 4th year December for as long as I can remember but, luckily, I didn't have to go through the rigmarole of suiting up and answering questions like &quot;Where do you see yourself in 5 years?&quot; for the sake of pleasing the other side of the table in a quest to land a job, something that is considered to be the ultimate aim of college, engineering and life. I was lucky enough to have a few offers that allowed me to skip the circus. So when the ringmaster started releasing results on a cold December 1st morning, I had been away from the process long enough to not realize that the main event had begun. There I was, sitting in my room, working hard for Intel India Embedded Challenge, while my friends were getting placed.</p>
<p>Initially, I took up to scanning my Facebook feed to see who got placed where. Then I switched to refreshing the placement's results page for the same. And after pressing F5 a few times, I got bored of it enough to think of automating it. And that is what I did. I wrote a Node.JS script that utilized <a href="https://www.npmjs.org/package/request"><code>request</code></a> and <a href="https://github.com/cheeriojs/cheerio"><code>cheerio</code></a> to fetch the results page every few minutes, parse it, see if any new results got announced and if they did then fire a desktop notification for it. A simple 15 minutes job.</p>
<div class="center">
    <img src="/images/posts/placements/desktop.png" alt="">
</div>
<p>I was satisfied with this but <a href="https://twitter.com/rushil92">Rushil</a>, who was at home and hence couldn't access the placement portal, wanted me to push the data to him too. And he wasn't the only one interested. So I could have created a receive endpoint on a server and a rendering endpoint for these folks. But I didn't want to make this data available publicly. I'd have to add a simple login page. Also, these people would have to manually check for new results, kind of beating the initial automation purpose. I can do better, right? So I used Twitter.</p>
<p>I created a protected Twitter account for the script. Each time new results were announce, the script would tweet the number of people selected by a company and who are they. For notification purposes, I enabled push notification for tweets from this account on the Twitter android app.</p>
<p>All the publicity that I did for this was a post on Facebook and a similar one on Twitter.</p>
<div class="center">
    <img src="/images/posts/placements/fb.png" alt="">
</div>
<p>Every now and then I would approve followers who are IIT Roorkee alumni or current students. And through this super simple setup I was able to broadcast results and also have push notifications. The Twitter account currently has around 60 followers at the time of writing. Not too bad for a 30 minute job which was supposed to be for only myself and a few friends.</p>
<div class="center">
    <img src="/images/posts/placements/twitter.png" alt="">
</div>
<h2>Why the need for privacy?</h2>
<p>Some people asked me why did I have to make the account protected? I had multiple reasons for this. One, while this data is open to everyone inside the campus, this isn't my data to make public. Two, the Indian Media goes crazy over the placement results. They give importance to the wrong stuff. I have very strong opinions on this but a senior has written about this issue very well. Read it <a href="http://buff.ly/1CHIlmG">here</a>. I did not want to hand over the entire Roorkee placement data to these people on a platter.</p>
<h2>Show me the code</h2>
<p>Quite a few people asked me how did I make this thing, which was also the initial trigger for writing this post. I have posted the code as a GitHub gist.</p>
<p>Link: <a href="https://gist.github.com/shashankmehta/d7d0233d8e919aaa5c35">GitHub Gist</a></p>
<p>For posting to a Twitter account, you will need to create an account on twitter and get the oauth keys to post as that account. Look in <code>twitter.js</code> for the set of functions that will help you in getting these. You will also need your Channeli <code>PHPSESSID</code> since the results page is behind a login wall. This, along with twitter creds, is all that is needed to run the main script, <code>placements.js</code>.</p>
<p>For desktop notifications, you need <code>notify-osd</code> setup, which is normally pre-installed on Ubuntu systems. Otherwise, you can utilize <a href="https://github.com/mikaelbr/node-notifier">node-notifier</a> for other systems.</p>
<p>Just comment on the gist in case something isn't clear.</p>

  </div>

  <footer>
    <hr />
    <!-- <div class="grid">
      <div class="col">
        <a href="http://twitter.com/share" class="twitter-share-button" data-count="none" data-via="">Tweet</a>
        <a href="http://twitter.com/" class="twitter-follow-button" data-show-count="false">Follow @</a>
        <script src="//platform.twitter.com/widgets.js" type="text/javascript"></script>
      </div>
    </div> -->
  </footer>
</article>

    </main>

    
  <script type="text/javascript">
    var _gaq = _gaq || [];
    _gaq.push(['_setAccount', 'UA-32545112-1']);
    _gaq.push(['_trackPageview']);

    (function() {
      var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
      ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
      var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
    })();
  </script>

  </div>
</body>
</html> 